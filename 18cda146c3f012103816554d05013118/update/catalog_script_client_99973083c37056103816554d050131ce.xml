<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="catalog_script_client">
    <catalog_script_client action="INSERT_OR_UPDATE">
        <active>true</active>
        <applies_catalog>true</applies_catalog>
        <applies_extended>false</applies_extended>
        <applies_req_item>false</applies_req_item>
        <applies_sc_task>false</applies_sc_task>
        <applies_target_record>false</applies_target_record>
        <applies_to>item</applies_to>
        <cat_item display_value="Pallets">f58851b6c3fcd2103816554d050131c2</cat_item>
        <cat_variable>IO:04baac4fc3fc16103816554d050131fd</cat_variable>
        <condition/>
        <description/>
        <field/>
        <global>true</global>
        <isolate_script>true</isolate_script>
        <messages/>
        <name>Delivery date is within 72 hours</name>
        <order/>
        <published_ref/>
        <script><![CDATA[function onChange(control, oldValue, newValue, isLoading) {
    if (isLoading || newValue == '') {
        return;
    }

    // Get the delivery date value from the form (replace 'how_soon_do_you_need_this_delivery' with your field name)
    var deliveryDateStr = g_form.getValue('how_soon_do_you_need_this_delivery');

    // Parse the delivery date string into a JavaScript Date object
    var deliveryDate = new Date(deliveryDateStr);
    var currentDate = new Date();

    // Calculate the time difference in milliseconds and convert to hours
    var diffInTime = deliveryDate.getTime() - currentDate.getTime();
    var diffInHours = diffInTime / (1000 * 60 * 60); // Convert milliseconds to hours

    // Check if the delivery date is within the next 72 hours
    if (diffInHours <= 48) {
        // Show a warning message if the delivery is within 72 hours
        g_form.showFieldMsg('how_soon_do_you_need_this_delivery', 'Delivery date is within the next 48 hours, we can not guarantee delivery and may take up to 72 hours!', 'warning');
    } else {
        // Hide the warning message if the date is more than 72 hours away
        g_form.hideFieldMsg('how_soon_do_you_need_this_delivery');
    }
}
]]></script>
        <sys_class_name>catalog_script_client</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-26 19:11:00</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>99973083c37056103816554d050131ce</sys_id>
        <sys_mod_count>3</sys_mod_count>
        <sys_name>Delivery date is within 72 hours</sys_name>
        <sys_overrides/>
        <sys_package display_value="Lilly Pad Logistics" source="x_1394608_lilly_pa">18cda146c3f012103816554d05013118</sys_package>
        <sys_policy/>
        <sys_scope display_value="Lilly Pad Logistics">18cda146c3f012103816554d05013118</sys_scope>
        <sys_update_name>catalog_script_client_99973083c37056103816554d050131ce</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-27 00:43:22</sys_updated_on>
        <table/>
        <type>onChange</type>
        <ui_type>0</ui_type>
        <va_supported>true</va_supported>
        <variable_set/>
        <view/>
    </catalog_script_client>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>99973083c37056103816554d050131ce</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-26 19:11:00</sys_created_on>
        <sys_id>04b7f443c37056103816554d050131b5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-26 19:11:00</sys_updated_on>
        <table>catalog_script_client</table>
        <use_es_latest>false</use_es_latest>
    </sys_es_latest_script>
</record_update>
